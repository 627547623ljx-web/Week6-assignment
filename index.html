<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Three Cats | æˆ‘å®¶çš„ä¸‰åªçŒ«ä¸»å­</title>
    <!-- é“¾æ¥å¤–éƒ¨ CSS æ–‡ä»¶ -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- å¼¹çª—ç»“æ„ -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup-container">
            <div class="popup-img-box">
                <img id="popupImg" src="" alt="çŒ«å’ªå¼¹çª—" class="popup-img">
            </div>
            <p id="popupText" class="popup-text"></p>
            <button id="popupCloseBtn" class="popup-close-btn">å…³é—­</button>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¤§å›¾ -->
    <section class="hero-section">
        <!-- ä¿æŒåŸæ–‡ä»¶å -->
        <img src="top-image.jpg" alt="ä¸‰åªçŒ«å’ªçš„å¤§åˆç…§" class="hero-img">
    </section>

    <header>
        <h1>ğŸ± My Three Cats | æˆ‘å®¶çš„ä¸‰åªçŒ«ä¸»å­ ğŸ±</h1>
        <p>Record every lovely moment | è®°å½•æ¯ä¸€åªå°å¯çˆ±çš„ä¸“å±æ—¶å…‰</p>
    </header>

    <!-- è½®æ’­å›¾åŒºåŸŸ -->
    <section class="carousel-section">
        <div class="section-title">
            <h2>Cat Moments | çŒ«å’ªç¬é—´</h2>
            <hr>
        </div>
        
        <div class="carousel-container">
            <button class="carousel-btn prev-btn" id="prevBtn" aria-label="ä¸Šä¸€å¼ å›¾ç‰‡">â†</button>
            <div class="carousel-view">
                <div class="carousel-track" id="carouselTrack">
                    <!-- ä¿æŒåŸæ–‡ä»¶å -->
                    <div class="carousel-item">
                        <img src="slide1.jpg" alt="çŒ«å’ªç¬é—´1" class="carousel-img">
                    </div>
                    <div class="carousel-item">
                        <img src="slide2.jpg" alt="çŒ«å’ªç¬é—´2" class="carousel-img">
                    </div>
                    <div class="carousel-item">
                        <img src="slide3.jpg" alt="çŒ«å’ªç¬é—´3" class="carousel-img">
                    </div>
                    <div class="carousel-item">
                        <img src="slide4.jpg" alt="çŒ«å’ªç¬é—´4" class="carousel-img">
                    </div>
                    <div class="carousel-item">
                        <img src="slide5.jpg" alt="çŒ«å’ªç¬é—´5" class="carousel-img">
                    </div>
                </div>
            </div>
            <button class="carousel-btn next-btn" id="nextBtn" aria-label="ä¸‹ä¸€å¼ å›¾ç‰‡">â†’</button>
        </div>
    </section>

    <!-- çŒ«å’ªæ¡£æ¡ˆåŒºåŸŸ -->
    <section class="cat-profiles">
        <div class="section-title">
            <h2>Cat Profiles | çŒ«å’ªæ¡£æ¡ˆ</h2>
            <hr>
        </div>

        <div class="cat-container">
            <!-- è‚‰æ³¥ -->
            <article class="cat-card">
                <!-- ä¿æŒåŸæ–‡ä»¶å -->
                <img src="nini.jpg" alt="è‚‰æ³¥" class="cat-img">
                <div class="cat-info">
                    <h3>Nini | è‚‰æ³¥</h3>
                    <p><strong>Age | å¹´é¾„ï¼š</strong>6å²</p>
                    <p><strong>Breed | å“ç§ï¼š</strong>British Shorthair (Blue) | è‹±çŸ­è“çŒ«</p>
                    <p><strong>Birthday | ç”Ÿæ—¥ï¼š</strong>2019.12.1</p>
                    <p><strong>Personality | æ€§æ ¼ï¼š</strong></p>
                    <div>
                        <span class="tag">Cool | é«˜å†·boy</span>
                        <span class="tag">Food Lover | å¹²é¥­ç‹</span>
                        <span class="tag">Timid | èƒ†å°é¬¼</span>
                    </div>
                    <p class="fun-fact"><strong>Fun Fact | å°è¶£äº‹ï¼š</strong>A total sucker for Jiangjiang | æ˜¯è‚‰é…±çš„å¿ å®èˆ”ç‹—</p>
                </div>
            </article>

            <!-- è‚‰é…± -->
            <article class="cat-card">
                <!-- ä¿æŒåŸæ–‡ä»¶å -->
                <img src="jiangjiang.jpg" alt="è‚‰é…±" class="cat-img">
                <div class="cat-info">
                    <h3>Jiangjiang | è‚‰é…±</h3>
                    <p><strong>Age | å¹´é¾„ï¼š</strong>6å²</p>
                    <p><strong>Breed | å“ç§ï¼š</strong>British Shorthair (Blue) | è‹±çŸ­è“çŒ«</p>
                    <p><strong>Birthday | ç”Ÿæ—¥ï¼š</strong>2019.12.24</p>
                    <p><strong>Personality | æ€§æ ¼ï¼š</strong></p>
                    <div>
                        <span class="tag">Destructive | æ‹†å®¶èƒ½æ‰‹</span>
                        <span class="tag">Autism | è‡ªé—­</span>
                        <span class="tag">Clingy | ç²˜äººç²¾</span>
                    </div>
                    <p class="fun-fact"><strong>Fun Fact | å°è¶£äº‹ï¼š</strong>Loves moping by the curtains alone | å–œæ¬¢å¯¹ç€çª—å¸˜è‡ªé—­</p>
                </div>
            </article>

            <!-- è‚‰æ²« -->
            <article class="cat-card">
                <!-- ä¿æŒåŸæ–‡ä»¶å -->
                <img src="momo.jpg" alt="è‚‰æ²«" class="cat-img">
                <div class="cat-info">
                    <h3>Momo | è‚‰æ²«</h3>
                    <p><strong>Age | å¹´é¾„ï¼š</strong>2ä¸ªæœˆ</p>
                    <p><strong>Breed | å“ç§ï¼š</strong>Munchkin | ç±³åŠªç‰¹çŒ«</p>
                    <p><strong>Birthday | ç”Ÿæ—¥ï¼š</strong>2024.3.25</p>
                    <p><strong>Personality | æ€§æ ¼ï¼š</strong></p>
                    <div>
                        <span class="tag">Naughty | è°ƒçš®</span>
                        <span class="tag">Fierce | å¥¶å‡¶</span>
                        <span class="tag">Stubborn | å€”å¼º</span>
                    </div>
                    <p class="fun-fact"><strong>Fun Fact | å°è¶£äº‹ï¼š</strong>Always licks itself into a messy little cat | æ€»æ˜¯æŠŠè‡ªå·±èˆ”æˆä¸€åªæ½¦è‰å°çŒ«</p>
                </div>
            </article>
        </div>
    </section>

    <!-- è§†é¢‘åŒºåŸŸ -->
    <section class="video-section">
        <div class="section-title">
            <h2>Cat Videos | çŒ«å’ªæ—¥å¸¸è§†é¢‘</h2>
            <hr>
        </div>
        <div class="video-container">
            <!-- ä¿æŒåŸè§†é¢‘æ–‡ä»¶åï¼Œæ·»åŠ  controls ä»¥ä¾¿æ’­æ”¾ -->
            <!-- å¦‚æœæ‚¨çš„è§†é¢‘æ–‡ä»¶åä¸æ˜¯ cats-daily.mp4ï¼Œè¯·åœ¨æ­¤å¤„ä¿®æ”¹ src -->
            <video class="cat-video" controls poster="" preload="metadata">
                <source src="cats-daily.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
            </video>
            <p class="video-desc">Daily life of three cats | ä¸‰åªçŒ«å’ªçš„æ—¥å¸¸ç¬é—´</p>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 My Three Cats. All rights reserved.</p>
    </footer>

    <!-- æ•´åˆåçš„ JavaScript é€»è¾‘ (ä¿ç•™äº†æ‚¨åŸå§‹çš„æ–‡æ¡ˆå’Œæ–‡ä»¶å) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ================= å¼¹çª—é€»è¾‘ =================
            const popupConfig = [
                {
                    // ä¿æŒåŸå§‹ä¸­æ–‡æ–‡ä»¶å
                    img: "å¼¹çª—å›¾1.jpg", 
                    text: "Hiï¼çœ‹çœ‹æˆ‘æ€§æ„Ÿçš„å¤§PPğŸ˜º "
                },
                {
                    img: "å¼¹çª—å›¾2.jpg",
                    text: "æ˜¯æˆ‘ï½ğŸ§¡æˆ‘çš„ç¡å§¿ä¼˜ç¾å—"
                },
                {
                    img: "å¼¹çª—å›¾3.jpg",
                    text: "è¿˜æ˜¯æˆ‘ï½ğŸ’™ ä½ æŠŠæˆ‘åµé†’äº†ï¼"
                }
            ];

            const popupOverlay = document.getElementById('popupOverlay');
            const popupImg = document.getElementById('popupImg');
            const popupText = document.getElementById('popupText');
            const popupCloseBtn = document.getElementById('popupCloseBtn');

            // æ£€æŸ¥æ˜¯å¦å·²ç»å…³é—­è¿‡å¼¹çª—
            const hasClosedPopup = localStorage.getItem('catPopupClosed');

            if (!hasClosedPopup && popupConfig.length > 0) {
                // éšæœºé€‰æ‹©ä¸€ä¸ªå¼¹çª—å†…å®¹
                const randomPopup = popupConfig[Math.floor(Math.random() * popupConfig.length)];
                
                // è®¾ç½®å†…å®¹
                popupImg.src = randomPopup.img;
                popupImg.alt = "çŒ«å’ªå¼¹çª—";
                popupText.textContent = randomPopup.text;

                // æ˜¾ç¤ºå¼¹çª—
                setTimeout(() => {
                    popupOverlay.classList.add('active');
                }, 500);
            }

            // å…³é—­å¼¹çª—é€»è¾‘
            function closePopup() {
                popupOverlay.classList.remove('active');
                localStorage.setItem('catPopupClosed', 'true');
            }

            if (popupCloseBtn) {
                popupCloseBtn.addEventListener('click', closePopup);
            }

            if (popupOverlay) {
                popupOverlay.addEventListener('click', (e) => {
                    if (e.target === popupOverlay) {
                        closePopup();
                    }
                });
            }

            // ================= è½®æ’­å›¾é€»è¾‘ =================
            const track = document.getElementById('carouselTrack');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (track && prevBtn && nextBtn) {
                let currentIndex = 0;
                const items = Array.from(track.children);
                const totalItems = items.length;

                const getVisibleItems = () => {
                    return window.innerWidth <= 768 ? 1 : 3;
                };

                const updateCarousel = () => {
                    const visibleItems = getVisibleItems();
                    if(items.length === 0) return;
                    
                    const itemWidth = items[0].getBoundingClientRect().width;
                    const gap = 16; 
                    
                    const maxIndex = totalItems - visibleItems;
                    if (currentIndex < 0) currentIndex = 0;
                    if (currentIndex > maxIndex) currentIndex = maxIndex;

                    const moveDistance = currentIndex * (itemWidth + gap); 
                    track.style.transform = `translateX(-${moveDistance}px)`;
                };

                nextBtn.addEventListener('click', () => {
                    const visibleItems = getVisibleItems();
                    if (currentIndex < totalItems - visibleItems) {
                        currentIndex++;
                        updateCarousel();
                    }
                });

                prevBtn.addEventListener('click', () => {
                    if (currentIndex > 0) {
                        currentIndex--;
                        updateCarousel();
                    }
                });

                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        currentIndex = 0;
                        updateCarousel();
                    }, 200);
                });

                requestAnimationFrame(updateCarousel);
            }
        });
    </script>
</body>
</html>
